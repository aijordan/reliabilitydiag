<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Decomposing scores into miscalibration, discrimination and uncertainty — summary.reliabilitydiag • reliabilitydiag</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Decomposing scores into miscalibration, discrimination and uncertainty — summary.reliabilitydiag" />
<meta property="og:description" content="An object of class reliabilitydiag contains the observations, the
original forecasts, and recalibrated forecasts given by isotonic regression.
The function summary.reliabilitydiag calculates quantitative measures
of predictive performance, miscalibration, discrimination,
and uncertainty, for each of the prediction methods in relation to their
recalibrated version." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reliabilitydiag</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/aijordan/reliabilitydiag/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Decomposing scores into miscalibration, discrimination and uncertainty</h1>
    <small class="dont-index">Source: <a href='https://github.com/aijordan/reliabilitydiag/blob/master/R/summary.R'><code>R/summary.R</code></a></small>
    <div class="hidden name"><code>summary.reliabilitydiag.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>An object of class <code>reliabilitydiag</code> contains the observations, the
original forecasts, and recalibrated forecasts given by isotonic regression.
The function <code>summary.reliabilitydiag</code> calculates quantitative measures
of predictive performance, miscalibration, discrimination,
and uncertainty, for each of the prediction methods in relation to their
recalibrated version.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for reliabilitydiag</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span>, score <span class='op'>=</span> <span class='st'>"brier"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>an object inheriting from the class <code>'reliabilitydiag'</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further arguments to be passed to or from methods.</p></td>
    </tr>
    <tr>
      <th>score</th>
      <td><p>currently only "brier" or a vectorized scoring function,
that is, <code>function(observation, prediction)</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>'summary.reliability'</code> object, which is also a
tibble (see <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble::tibble()</a></code>) with columns:</p><table class='table'>
<tr><td><code>forecast</code></td><td>the name of the prediction method.</td></tr>
<tr><td><code>mean_score</code></td><td>the mean score of the original
     forecast values.</td></tr>
<tr><td><code>miscalibration</code></td><td>a measure of miscalibration
     (<em>how reliable is the prediction method?</em>),
      smaller is better.</td></tr>
<tr><td><code>discrimination</code></td><td>a measure of discrimination
     (<em>how variable are the recalibrated predictions?</em>),
     larger is better.</td></tr>
<tr><td><code>uncertainty</code></td><td>the mean score of a constant prediction at the
     value of the average observation.</td></tr>
</table>


    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Predictive performance is measured by the mean score of the original
forecast values, denoted by \(S\).</p>
<p>Uncertainty, denoted by \(UNC\), is the mean score of a constant
prediction at the value of the average observation.
It is the highest possible mean score of a calibrated prediction method.</p>
<p>Discrimination, denoted by \(DSC\), is \(UNC\) minus the mean score
of the PAV-recalibrated forecast values.
A small value indicates a low information content (low signal) in the
original forecast values.</p>
<p>Miscalibration, denoted by \(MCB\), is \(S\) minus the mean score
of the PAV-recalibrated forecast values.
A high value indicates that predictive performance of the prediction method
can be improved by recalibration.</p>
<p>These measures are related by the following equation,
$$S = MCB - DSC + UNC.$$
Score decompositions of this type have been studied extensively, but the
optimality of the PAV solution ensures that \(MCB\) is nonnegative,
regardless of the chosen (admissible) scoring function.
This is a unique property achieved by choosing PAV-recalibration.</p>
<p>If deviating from the Brier score as performance metric, make sure to choose
a proper scoring rule for binary events, or equivalently,
a scoring function with outcome space {0, 1} that is consistent for the
expectation functional.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"precip_Niamey_2016"</span>, package <span class='op'>=</span> <span class='st'>"reliabilitydiag"</span><span class='op'>)</span>
<span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'><a href='reliabilitydiag.html'>reliabilitydiag</a></span><span class='op'>(</span>
  <span class='va'>precip_Niamey_2016</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Logistic"</span>, <span class='st'>"EMOS"</span>, <span class='st'>"ENS"</span>, <span class='st'>"EPC"</span><span class='op'>)</span><span class='op'>]</span>,
  y <span class='op'>=</span> <span class='va'>precip_Niamey_2016</span><span class='op'>$</span><span class='va'>obs</span>,
  region.level <span class='op'>=</span> <span class='cn'>NA</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 'brier' score decomposition (see also ?summary.reliabilitydiag)
#&gt; <span style='color: #949494;'># A tibble: 4 × 5</span>
#&gt;   forecast mean_score miscalibration discrimination uncertainty
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>         <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>          <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>          <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> Logistic      0.206         0.017<span style='text-decoration: underline;'>1</span>         0.055<span style='text-decoration: underline;'>5</span>       0.244
#&gt; <span style='color: #BCBCBC;'>2</span> EMOS          0.232         0.018<span style='text-decoration: underline;'>3</span>         0.030<span style='text-decoration: underline;'>5</span>       0.244
#&gt; <span style='color: #BCBCBC;'>3</span> ENS           0.266         0.066<span style='text-decoration: underline;'>1</span>         0.044<span style='text-decoration: underline;'>1</span>       0.244
#&gt; <span style='color: #BCBCBC;'>4</span> EPC           0.234         0.022<span style='text-decoration: underline;'>3</span>         0.032<span style='text-decoration: underline;'>3</span>       0.244</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>r</span>, score <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>x</span><span class='op'>)</span> <span class='op'>(</span><span class='va'>x</span> <span class='op'>-</span> <span class='va'>y</span><span class='op'>)</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 'function(y, x) (x - y)^2' score decomposition (see also ?summary.reliabilitydiag)
#&gt; <span style='color: #949494;'># A tibble: 4 × 5</span>
#&gt;   forecast mean_score miscalibration discrimination uncertainty
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>         <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>          <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>          <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> Logistic      0.206         0.017<span style='text-decoration: underline;'>1</span>         0.055<span style='text-decoration: underline;'>5</span>       0.244
#&gt; <span style='color: #BCBCBC;'>2</span> EMOS          0.232         0.018<span style='text-decoration: underline;'>3</span>         0.030<span style='text-decoration: underline;'>5</span>       0.244
#&gt; <span style='color: #BCBCBC;'>3</span> ENS           0.266         0.066<span style='text-decoration: underline;'>1</span>         0.044<span style='text-decoration: underline;'>1</span>       0.244
#&gt; <span style='color: #BCBCBC;'>4</span> EPC           0.234         0.022<span style='text-decoration: underline;'>3</span>         0.032<span style='text-decoration: underline;'>3</span>       0.244</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Timo Dimitriadis, Alexander I. Jordan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


